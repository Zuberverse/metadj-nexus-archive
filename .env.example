# MetaDJ Nexus Environment Variables
# Copy to .env.local for local development or set in Replit Secrets.

# -----------------------------------------------------------------------------
# App
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=https://metadjnexus.ai
NEXT_PUBLIC_PREVIEW_URL=
PORT=8100

# -----------------------------------------------------------------------------
# Auth
# -----------------------------------------------------------------------------
AUTH_SECRET=change-me-min-32-chars
ADMIN_PASSWORD=
AUTH_SESSION_DURATION=604800
AUTH_REGISTRATION_ENABLED=true
E2E_AUTH_BYPASS=false

# Internal health endpoints
INTERNAL_API_SECRET=

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

# Trusted proxy IP headers (comma-separated, lower-case)
TRUSTED_IP_HEADERS=x-vercel-ip,cf-connecting-ip,x-real-ip,x-forwarded-for

# -----------------------------------------------------------------------------
# Media (Cloudflare R2)
# -----------------------------------------------------------------------------
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=metadj-nexus-media

# -----------------------------------------------------------------------------
# AI Provider Selection
# -----------------------------------------------------------------------------
AI_PROVIDER=openai
PRIMARY_AI_MODEL=gpt-5.2-chat-latest
ANTHROPIC_AI_MODEL=claude-haiku-4-5
GOOGLE_AI_MODEL=gemini-3-flash-preview
XAI_AI_MODEL=grok-4-1-fast-non-reasoning

# AI Provider Keys
OPENAI_API_KEY=
OPENAI_TRANSCRIBE_MODEL=gpt-4o-mini-transcribe-2025-12-15
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=
XAI_API_KEY=

# AI Failover + Cache
AI_FAILOVER_ENABLED=true
AI_CACHE_ENABLED=
AI_CACHE_TTL_MS=
AI_CACHE_MAX_SIZE=
AI_REQUEST_TIMEOUT_MS=
AI_MAX_TOOL_STEPS=

# AI Spending Controls
AI_SPENDING_HOURLY_LIMIT=1.00
AI_SPENDING_DAILY_LIMIT=10.00
AI_SPENDING_WARNING_THRESHOLD=0.8
AI_SPENDING_BLOCK_ON_LIMIT=false

# AI Token Costs Override (JSON)
AI_TOKEN_COSTS=

# AI Devtools (local only)
AI_DEVTOOLS_ENABLED=false

# MCP Tools (local only)
AI_MCP_ENABLED=false
AI_MCP_SERVER_COMMAND=
AI_MCP_SERVER_ARGS=
AI_MCP_SERVER_CWD=

# AI Semantic Search
AI_SEMANTIC_SEARCH_MODE=

# -----------------------------------------------------------------------------
# Analytics
# -----------------------------------------------------------------------------
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=
NEXT_PUBLIC_PLAUSIBLE_API_HOST=https://plausible.io
ANALYTICS_DB_ENABLED=
NEXT_PUBLIC_ANALYTICS_DB_ENABLED=
NEXT_PUBLIC_APP_VERSION=
NEXT_PUBLIC_LOGGING_CLIENT_KEY=

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOGGING_WEBHOOK_URL=
LOGGING_SHARED_SECRET=
LOGGING_CLIENT_KEY=

# -----------------------------------------------------------------------------
# Rate Limiting (Upstash)
# -----------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
RATE_LIMIT_FAIL_CLOSED=false

# -----------------------------------------------------------------------------
# Daydream
# -----------------------------------------------------------------------------
DAYDREAM_API_KEY=
DAYDREAM_API_GATEWAY=
DAYDREAM_WHIP_ALLOWED_HOSTS=
DAYDREAM_WHIP_ALLOW_DEV=false
DAYDREAM_PUBLIC_ENABLED=

# -----------------------------------------------------------------------------
# Replit (optional)
# -----------------------------------------------------------------------------
REPLIT_DEV_DOMAIN=
REPLIT_DOMAINS=
